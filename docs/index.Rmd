---
title: "Web Scrapping de Momios del casino Caliente"
author: "NIES Futbol"
date: '`r format(Sys.Date(), "%B %d, %Y")`'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

Como es sabido, el [_web scrapping_](https://www.google.com/search?q=web+scrapping&oq=web+scrapping&aqs=chrome..69i57j0i10i512l4j69i60l3.2971j0j7&sourceid=chrome&ie=UTF-8) es el proceso para extraer datos o contenido desde un sitio web. El _web scrapping_ extrae el código HTML dentro de una página, así como también datos almacenados dentro de bases de datos.

Los analistas o ingenieron de datos deportivos (en un amplio sentido de la palabra) recurren al _web scrapping_ en situaciones cuando no existe una API para acceder a los datos de manera directa. Obteniendo así datos de estadísticas de partidos, jugadores y ligas.

Para hacer el _web scrapping_ vamos a usar la librería `rvest`. Vamos a usar `dplyr` para hacer el manejo de los datos.

```{r librarys, include=TRUE}
library(rvest)
library(dplyr)
```

Definimos la página a la que vamos a acceder para hacer el _web scrapping_.

```{r, include=TRUE}
url <- "https://sports.caliente.mx/es_MX"
html <- read_html(url) # Lee el url para traer todos los elementos de la página
```

```{r, include=TRUE}
tabla <- html |>
  html_elements("table") # Jala los elementos con clase tabla (class="table")
```

```{r, include=TRUE}
# Jala (a mano) los datos de la Liga MX (que están en el elemento 3)
tabla_ligamx <- tabla[3] |> html_table() 
tabla_ligamx[[1]][, c("X5", "X6", "X7")] # Extrae las columnas señaladas
```

